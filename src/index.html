<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, viewport-fit=cover, user-scalable=no" />
    <title>One Wrong Turn</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div id="app">
      <!-- Canvas 3D will be inserted here (always visible) -->
      
      <!-- HUD Overlay - always visible during gameplay -->
      <div id="hud-overlay" class="hud-overlay">
        <!-- Top Left: Stats -->
        <div class="hud-top-left">
          <div class="stat-item">
            <label>MODE</label>
            <value id="stat-mode">NORMAL</value>
          </div>
          <div class="stat-item">
            <label>HIGHSCORE</label>
            <value id="stat-highscore">0M</value>
          </div>
          <div class="stat-item">
            <label>LAST RUN</label>
            <value id="stat-lastrun">0M</value>
          </div>
        </div>
        
        <!-- Center Top: Velocidad -->
        <div class="hud-center-top">
          <span id="stat-speed">0</span>
          <span class="label">KM/H</span>
        </div>
        
        <!-- Bottom Center: Distancia Actual -->
        <div class="hud-bottom-center">
          <span id="stat-distance">0M</span>
        </div>
        
        <!-- Bottom Right: Hint -->
        <div class="hud-bottom-right" id="hint">
          PRESS <span class="key">A</span> / <span class="key">D</span> TO START
        </div>
      </div>
      
      <!-- Crash Overlay (appears when you crash) -->
      <div id="crash-overlay" class="crash-overlay hidden">
        <div class="crash-container">
          <!-- Large "TOO GREEDY" message -->
          <div class="crash-message" id="crash-msg">TOO GREEDY</div>
          
          <!-- Stats from the run -->
          <div class="crash-stats">
            <div class="crash-stat">
              <span class="label">DISTANCE</span>
              <span class="value" id="crash-distance">0M</span>
            </div>
            <div class="crash-stat">
              <span class="label">SPEED AT CRASH</span>
              <span class="value" id="crash-speed">0</span>
            </div>
          </div>
          
          <!-- Restarting countdown -->
          <div class="restart-info">
            <span>RESTARTING IN</span>
            <span id="restart-timer">3</span>
          </div>
          
          <!-- Buttons (skip restart) -->
          <div class="crash-buttons">
            <button id="btn-restart-now" class="btn btn-primary">RESTART NOW (SPACE)</button>
            <button id="btn-menu-from-crash" class="btn btn-secondary">MENU</button>
          </div>
        </div>
      </div>
      
      <!-- Main Menu (overlay, initially visible) -->
      <div id="menu-overlay" class="menu-overlay">
        <div class="menu-container">
          <h1 class="game-title">ONE WRONG TURN</h1>
          <p class="subtitle">Push your limits. One mistake and you're done.</p>

          <button id="btn-start" class="btn btn-primary big">PLAY</button>
          <button id="btn-shop" class="btn btn-tertiary big">SHOP</button>
          <button id="btn-stats" class="btn btn-tertiary big">STATS</button>

          <div class="menu-stats">
            <div class="stat-item">
              <label>BEST DISTANCE</label>
              <value id="menu-best">0M</value>
            </div>
          </div>
        </div>
      </div>

      <!-- Mode Selection Overlay -->
      <div id="mode-overlay" class="mode-overlay hidden">
        <div class="mode-container">
          <h2>SELECT GAME MODE</h2>
          
          <div class="mode-selector">
            <div class="mode-card" id="mode-normal" data-mode="normal">
              <div class="mode-name">NORMAL MODE</div>
              <div class="mode-description">Balanced difficulty with gradual speed progression.</div>
              <div class="mode-stats">
                <div class="mode-stat">Speed: <span class="highlight">25 â†’ 35 u/s</span></div>
                <div class="mode-stat">Road: <span class="highlight">Fixed Width</span></div>
                <div class="mode-stat">Turns: <span class="highlight">Moderate</span></div>
              </div>
            </div>
            
            <div class="mode-card" id="mode-hard" data-mode="hard">
              <div class="mode-name">HARD MODE</div>
              <div class="mode-description">Speed ramps, narrowing road, sharper turns. Pure chaos.</div>
              <div class="mode-stats">
                <div class="mode-stat">Speed: <span class="highlight">25 â†’ 45 u/s</span></div>
                <div class="mode-stat">Road: <span class="highlight">Narrowing</span></div>
                <div class="mode-stat">Turns: <span class="highlight">Aggressive</span></div>
              </div>
              <div class="mode-locked hidden">
                <div class="lock-icon">ðŸ”’</div>
                <div class="lock-text">Complete Normal Mode to unlock</div>
              </div>
            </div>
          </div>
          
          <button id="btn-back-mode" class="btn btn-back">BACK</button>
        </div>
      </div>
      
      <!-- Stats Overlay -->
      <div id="stats-overlay" class="stats-overlay hidden">
        <div class="stats-container">
          <h2>STATS</h2>
          <div class="stats-grid">
            <div class="stat-item">
              <label>Best Distance</label>
              <span id="stats-best">0m</span>
            </div>
            <div class="stat-item">
              <label>Games Played</label>
              <span id="stats-games-played">0</span>
            </div>
            <div class="stat-item">
              <label>Total Distance</label>
              <span id="stats-total-distance">0m</span>
            </div>
          </div>
          <button id="btn-back-stats" class="btn btn-back">BACK</button>
        </div>
      </div>

      <!-- Shop Overlay -->
      <div id="shop-overlay" class="shop-overlay hidden">
        <div class="shop-container">
          <h2>SHOP</h2>
          <div class="shop-header">
            <div class="shop-coins-display">
              <span class="coins-icon">ðŸª™</span>
              <span id="shop-coins">0</span>
            </div>
          </div>
          <div id="shop-items" class="shop-items">
            <!-- Shop items will be rendered here -->
          </div>
          <button id="btn-back-shop" class="btn btn-back">BACK</button>
        </div>
      </div>

      <!-- Touch Controls (for mobile) -->
      <div id="touch-controls" class="touch-controls" aria-hidden="true">
        <button id="touch-left" class="touch-btn">LEFT</button>
        <button id="touch-right" class="touch-btn">RIGHT</button>
      </div>

      <!-- Crash flash effect -->
      <div id="crash-flash" class="crash-flash" aria-hidden="true"></div>
    </div>

    <script type="module" src="./game/main.js"></script>
  </body>
</html>
